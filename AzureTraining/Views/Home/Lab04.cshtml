@{
    ViewBag.Title = "HOL #4.";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="top">
    <div class="panel-heading">
        <h1>Hand on Lab Scenario #4.</h1>
        <p class="panel-body">
            Create Widnows VM and premium storage in a privew portal.<br />
            <i> Estimate 1 Hours </i> <br />
        </p>
    </div>
</div>
<div class="row body-content">
    <h4>0. Login Azure Preview Portal</h4>
    <a class="btn alert-success" href="https://ms.portal.azure.com" target="_blank">Azure Preview Portal &raquo;</a><br />
    <hr />
    <h4>1. Create Storage</h4>
    <p>
        Create a storage location in SouthEast Asia.<br />
        Note that there are only few Azure regions provides Premium storage. <br />
        Chooes storage replication as Premium-LRS(Premium-Local Redundant Storage).<br />
        <img src="~/Content/Lab04_CreateStorageAccount_1.png" class="img-thumbnail" style="width: 70%; height: 70%" /><br />
    </p>
    <div class="alert-info">
        <div class="panel-body">
            <h4 class="badge">Tip</h4>
            <p>
                If you want to know Azure Service region and its services, please visit following site.<br />
                <a class="btn btn-info" href="http://azure.microsoft.com/ko-kr/regions/#services" target="_blank">Azure Service Regions</a><br />
            </p>
        </div>
    </div>
    <hr />
    <h4>2. Create Virtual Machine</h4>
    <p>
        Select DS serise VM which can use Premium storage. In other words, A or D serise are not able to use Premium storage. <br />
        <br />
    </p>
    <hr />
    <h4>3. Attach Disks</h4>
    <p>
        Attach 2 disks and make it single storage volume.<br />
        <img src="~/Content/Lab04_AttachDisks.png" class="img-thumbnail img-responsive" style="width:50%; height:50%" /><br />
    </p>
    <h4>4. Connect to Windows VM and create a new volume</h4>
    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
            <li data-target="#carousel-example-generic" data-slide-to="1"></li>
            <li data-target="#carousel-example-generic" data-slide-to="2"></li>
            <li data-target="#carousel-example-generic" data-slide-to="3"></li>
            <li data-target="#carousel-example-generic" data-slide-to="4"></li>
            <li data-target="#carousel-example-generic" data-slide-to="5"></li>
            <li data-target="#carousel-example-generic" data-slide-to="6"></li>
            <li data-target="#carousel-example-generic" data-slide-to="7"></li>
            <li data-target="#carousel-example-generic" data-slide-to="8"></li>
        </ol>
        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
            <div class="item active">
                <img src="~/Content/Lab04_CreateVol_1.png">
                <div class="carousel-inner">
                    <p>
                        Create new volume using Storage pool
                        <br />
                        Use Remote Desktop to conntect Windows VM.
                        <br />
                        Run Server Manager and go to Server Manager > File and Storage Services > Volumes > Disks
                    </p>
                </div>
            </div>
            <div class="item">
                <img src="~/Content/Lab04_CreateVol_2.png">
                <div class="carousel-inner">
                    <p>
                        Right Click on Storage Space to create New Storage Pool.
                    </p>
                </div>
            </div>
        </div>
        <!-- Controls -->
        <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>

    </div>
    <p>
        <table class="table table-striped table-bordered">
            
            <tr>
                <td>
                    Right Click on Storage Space to create New Storage Pool.
                    <br />
                    <img src="~/Content/Lab04_CreateVol_3.png" class="img-thumbnail img-responsive" style="width:70%; height:70%" />
                    <br />
                </td>
            </tr>
            <tr>
                <td>
                    <img src="~/Content/Lab04_CreateVol_4.png" class="img-thumbnail img-responsive" style="width:70%; height:70%" />
                    <br />
                </td>
            </tr>
            <tr>
                <td>
                    Select the storage layout as Simple.
                    <br />
                    <img src="~/Content/Lab04_CreateVol_5.png" class="img-thumbnail img-responsive" style="width:70%; height:70%" />
                    <br />
                </td>
            </tr>
            <tr>
                <td>
                    <img src="~/Content/Lab04_CreateVol_6.png" class="img-thumbnail img-responsive" style="width:70%; height:70%" />
                    <br />
                </td>
            </tr>
            <tr>
                <td>
                    <img src="~/Content/Lab04_CreateVol_7.png" class="img-thumbnail img-responsive" style="width:70%; height:70%" />
                    <br />
                </td>
            </tr>
            <tr>
                <td>
                    <img src="~/Content/Lab04_CreateVol_8.png" class="img-thumbnail img-responsive" style="width:70%; height:70%" />
                    <br />
                </td>
            </tr>
            <tr>
                <td>
                    <img src="~/Content/Lab04_CreateVol_9.png" class="img-thumbnail img-responsive" style="width:70%; height:70%" />
                    <br />
                </td>
            </tr>
            <tr>
                <td>
                    <img src="~/Content/Lab04_CreateVol_10.png" class="img-thumbnail img-responsive" style="width:70%; height:70%" />
                    <br />
                </td>
            </tr>
            <tr>
                <td>
                    You can see new volume is created automatically.
                    <br />
                    <img src="~/Content/Lab04_CreateVol_11.png" class="img-thumbnail img-responsive" style="width:70%; height:70%" />
                    <br />
                </td>
            </tr>
            <tr>
                <td>
                    As two P10 size disks are perform as single disk volume, IOPS twice fater than one P10 disk. <br />
                    If you need more IOPS, then you can attach more disks. But you shoould awarethat the more disk the bigger DS VM required. <br />
                    <img src="~/Content/Lab04_CreateVol_12.png" class="img-thumbnail img-responsive" style="width:60%; height:60%" />
                    <br />
                </td>
            </tr>
        </table>
    </p>
    <div class="alert-info">
        <div class="panel-body">
            <h4 class="badge">Tip</h4>
            <p>
                You can download SQLIO for storage performance test.<br />
                <a class="btn btn-info" href="http://www.microsoft.com/en-us/download/details.aspx?id=20163" target="_blank">Download SQLIO</a> <br />
                <ul>
                    <li>
                        Add "F:\testfile.dat 2 0x0 1024" in the file, C:\Program Files (x86)\SQLIO\param.txt, for test.<br />
                        Run "sqlio -kW -s10 -frandom -o8 -b8 -LS -Fparam.txt" <br />
                    </li>
                </ul>
            </p>
        </div>
    </div>
</div> 